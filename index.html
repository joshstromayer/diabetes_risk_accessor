<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlucoRisk Diabetes Report</title>
    <link rel="stylesheet" href="styles.css">

<link rel="stylesheet" href="https://pyscript.net/releases/2025.7.3/core.css" />
<script type="module" src="https://pyscript.net/releases/2025.7.3/core.js"></script>

</head>

<body>
    <header>

        <div id="logo"><a href="#pilot">GlucoRisk</a></div>

        <ul class="links">
            <li><a href="#tool">Tool</a></li>
            <li><a href="#risks">Risks</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </header>

<main>
    
    <div>
    <h1>Welcome to your personal diabetes report.</h1>
    </div>
    
    <div id="p1">
    <h2 id="whatisdiabetes" class="subhead">What is diabetes?</h2>
    <p><b>Diabetes</b> is a chronic disease where the body cannot properly adjust glucose levels in the blood. This happens due to problems with producing a hormone called <i>insulin</i>, which helps move glucose from the blood into the cells where it is used for energy. <i>Insulin</i> is created by cells in the pancreas called <i>beta cells</i>. These are the only cells in our body that are able to produce this hormone.</p>
    <p>Most of the food we eat is broken down into sugar by our digestive system which then moves into the bloodstream. The reason sugar moves into the blood is because it needs to reach <b>all</b> the cells in the body. The pancreas (an organ that lies near the stomach) produces a hormone called <i>insulin</i> which helps the glucose get into these cells.</p>
    <p>When <i>insulin</i> is not produced or isn't used efficiently, this leaves an excess of glucose in the blood which results in high glucose levels which can lead to further health problems such as heart, kidney, nerve and eye diseases. There are many types of diabetes but the most common are <i>Type 1</i>, <i>Type 2</i> and <i>Gestational Diabetes</i>:</p>
    
<br>

    <h3>Type 1 Diabetes</h3>    
    <p>The immune system protects our body by killing bacteria and viruses. It also mistakenly destroys the <i>beta cells</i> in the pancreas which means the body can no longer produce insulin. This is usually diagnosed in children and young adults meaning it can be genetic but it is also possible to develop later on in life.</p>
    
    <h3>Type 2 Diabetes</h3>    
    <p>The body still produces some insulin but not enough to 'carry' sufficient glucose into cells. Another problem could be that the body produces enough insulin but the it doesn't use it well.</p>

    <h3>Gestational Diabetes</h3>
    <p>This occurs when a woman's body does not use insulin whilst she is pregnant. This results in a risk of developing type 2 diabetes as well as raising her childs risk of getting diabetes.</p>
    </div>
    
    <div id="p2">
    <h2 class="subhead" id="symptom">Symptoms</h2>
    <p>Understanding the common symptoms of diabetes is <b>essential</b> for early detection and managing your lifestyle. These are the most common symptoms that may indicate the presence of diabetes:</p>
    <ul class="symptoms">
        <li>Urinating more than usual (especially at night)</li>
        <li>Feeling thirsty all the time</li>
        <li>Feeling more tired than usual</li>
        <li>Unintentional weight loss</li>
        <li>Blurred vision</li>
        <li>Genital itching or thrush</li>
    </ul>
    </div>
    
    <div id="p3">
    <h2 class="subhead" id="tool">Risk Calculator Tool</h2>
    <p>This quick and simple tool can help you find out your risk of developing <i>type 2</i> diabetes. Just answer a few simple questions to get an idea of your personal risk level.</p>

    <br>

<div id="calc">
  <form id="risk-form">
    <div class="question">
      <label for="age">What is your age?*</label><br>
      <input type="text" name="age" id="age" placeholder="e.g. 22">
    </div>

    <div class="question">
      <label for="bglevels">What is your blood glucose level? (mg/dL)*</label><br>
      <input type="text" name="bglevels" id="bglevels" placeholder="e.g. 94">
    </div>

    <div class="question">
      <label for="hba1c">What is your HbA1c level? (%)*</label><br>
      <input type="text" name="hba1c" id="hba1c" placeholder="e.g. 6.4">
    </div>

    <div class="question">
      <label for="bmi">What is your BMI?*</label><br>
      <input type="text" name="bmi" id="bmi" placeholder="e.g. 23.8">
    </div>

    <div class="question">
      <label>Do you have a history of high blood pressure?*</label><br>
      <label><input type="radio" name="hypertension" id="hypertension_yes"> Yes</label>
      <label><input type="radio" name="hypertension" id="hypertension_no"> No</label>
    </div>

    <div class="question">
      <label>Do you have a history of any heart disease?*</label><br>
      <label><input type="radio" name="heartdisease" id="heartdisease_yes"> Yes</label>
      <label><input type="radio" name="heartdisease" id="heartdisease_no"> No</label>
    </div>
  </form>

  <button py-click="calculate_risk()">Submit</button>
</div>

        
        
<br>
       <p class="disclaimer">*This calculator was designed using a large database produced by a survery with over 100,000 people*</p>


</div>


    <div id="result" style="margin-top: 20px; font-weight: bold;"></div>

    
    <div id="p4">
    <h2 class="subhead" id="risks">What are the risk factors?</h2>
    <h3 class="riskfactor">Age</h3>
    <p>Over time, the number of <i>beta cells</i> and their functionality naturally decline. This means  the <i>beta cells</i> need to work harder to keep up with producing enough insulin. This stresses the cells and prolonged stress (also known as Endoplasmic Reticulum Stress) can lead to cell death or dysfunction.</p>
    <p>The body's cells can also become less sensitive to insulin and leads to more glucose being present in the blood. This is called <i>insulin resistance</i> and can occur in healthy individuals. Glucose stays in the blood for longer due to the resistance, leading to high glucose levels. The pancreas produces more insulin to compensate the increase in glucose levels, which is called <i>hyperinsulinemia</i>. Overall, this can lead to <i>type 2 diabetes</i>.</p>
    <p class="correlation">The correlation between <u>Age</u> and your risk of developing Type 2 diabetes is shown in <i>Figure 1</i>.</p>

    <br>
    <div id="container1">
    <div id="figure1text">Figure 1</div>  
    <img src="Graphimage.svg" alt="">
    </div>   
    <br>

    <h3 class="riskfactor">Blood Glucose Levels</h3>
    <p>High blood glucose levels is a <b>warning sign</b> of <i>prediabetes</i> and <i>type 2 diabetes</i>. This damages beta cells in the pancreas (<i>glucotoxicity</i>) and eventually, the beta cells fail and insulin production decreases and leads to a further increase in blood glucose levels.</p>
    <p>A normal blood glucose level in healthy individuals is 4.0 to 5.4 mmol/L <b>before</b> meals and up to 7.7 mmol/L <b>after</b> meals. For people with diabetes, blood glucose level targets are 4.0 to 7.0 mmol/L <b>before</b> meals and under 9.0 - 8.5 mmol/L <b>after</b> meals.</p>
    <p class="correlation">The correlation between <u>Blood Glucose Levels</u> and your risk of developing Type 2 diabetes is shown in <i>Figure 2</i>.</p>
    
    <br>
    <div id="container2">
    <div id="figure2text">Figure 2</div>  
    <img src="Graphimage.svg" alt="">
    </div>   
    <br>
    
    <div id="graphtext2"> Figure 2
    <p class="graph"></p>
    </div>
    <p class="disclaimer">*Figures relating to blood glucose level targets are based on ranges published by the British Heart Foundation*</p>
    <h3 class="riskfactor">hba1c Levels</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia quasi accusantium nostrum porro voluptatibus, eos repudiandae modi hic dolorem quidem id, alias neque commodi veritatis asperiores at. Id, est in.</p>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos nisi voluptatum, optio cum est quaerat architecto natus dignissimos perspiciatis, excepturi deleniti fuga pariatur voluptatibus vitae maiores quidem libero. Dignissimos, obcaecati!</p>
    <p class="correlation">The correlation between <u>hba1c Levels</u> and your risk of developing Type 2 diabetes is shown in <i>Figure 3</i>.</p>
    
    <br>
    <div id="container3">
    <div id="figure3text">Figure 3</div>  
    <img src="Graphimage.svg" alt="">
    </div>   
    <br>
    
    <p class="graph"></p>
    <h3 class="riskfactor">Hypertension</h3>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam a earum numquam eveniet voluptas pariatur labore ad quasi nemo minus quos saepe aperiam, dolorum dolor unde corrupti! Ut, reiciendis suscipit?</p>
    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci inventore natus ut eum dicta saepe cupiditate in earum quidem consequuntur quis, facilis sint corrupti vitae soluta voluptatem eius fugit neque?</p>
    <p class="correlation">The correlation between <u>Hypertension</u> and your risk of developing Type 2 diabetes is shown in <i>Figure 4</i>.</p>
    
    <br>
    <div id="container4">
    <div id="figure4text">Figure 4</div>  
    <img src="Graphimage.svg" alt="">
    </div>   
    <br>
    
    <p class="graph"></p>
    <h3 class="riskfactor">BMI</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis quae quasi quam error corporis eveniet. Veniam similique earum sequi officia asperiores blanditiis maxime quisquam praesentium delectus, quasi debitis minus sed!</p>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis earum ea blanditiis suscipit necessitatibus iusto error voluptates minima dolores dignissimos libero, velit accusamus nobis voluptatibus harum voluptatem ad, vitae excepturi.</p>
    <p class="correlation">The correlation between <u>BMI</u> and your risk of developing Type 2 diabetes is shown in <i>Figure 5</i>.</p>
    
    <br>
    <div id="container5">
    <div id="figure5text">Figure 5</div>  
    <img src="Graphimage.svg" alt="">
    </div>   
    <br>
    
    <p class="graph"></p>
    <h3 class="riskfactor">Heart Disease</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequuntur sed labore eos repellat necessitatibus libero quis, quaerat aperiam a nihil esse laboriosam vero vel incidunt fuga optio earum ea? Magni.</p>
    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Non, aliquid nostrum rerum voluptatibus quos ea rem? Eligendi laborum esse dicta totam modi tempora cumque. Ullam minus alias fugit adipisci voluptatibus.</p>    
    
    <br>
    <div id="container6">
    <div id="figure6text">Figure 6</div>  
    <img src="Graphimage.svg" alt="">
    </div>   
    <br>
    
    <p class="correlation">The correlation between <u>Heart Disease</u> and your risk of developing Type 2 diabetes is shown in <i>Figure 6</i>.</p>
    <p class="graph"></p>
    </div>

    
    </div>

    <div id="p5">
    <h2 class="subhead" id="nextsteps">Next Steps</h2>
    <p>Although Diabetes is serious, it can be managed so it's less likely to cause health problems. Some proactive steps you can take to avoid these problems are:</p>
    
    <h3 class="prevention">Healthy Food</h3>
    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Odit tempore unde, tempora hic autem dolor iure quos architecto quisquam natus dolorem laborum nihil assumenda perspiciatis animi? Facilis delectus natus ullam.</p>
    <h3 class="prevention">Physical Activity</h3>
    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Odit tempore unde, tempora hic autem dolor iure quos architecto quisquam natus dolorem laborum nihil assumenda perspiciatis animi? Facilis delectus natus ullam.</p>
    <h3 class="prevention">Manage your Blood pressure and Cholesterol</h3>
    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Odit tempore unde, tempora hic autem dolor iure quos architecto quisquam natus dolorem laborum nihil assumenda perspiciatis animi? Facilis delectus natus ullam.</p>
    <h3 class="prevention">Quit Smoking</h3>
    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Odit tempore unde, tempora hic autem dolor iure quos architecto quisquam natus dolorem laborum nihil assumenda perspiciatis animi? Facilis delectus natus ullam.</p>




    </div>

<hr>

    
    <div id="p5">
    <h2 class="subhead" id="contact">Contact us</h2>
    <p>Email: GlucoRisk@gmail.com</p>

    


    <div id="p6">
    <h2 class="subhead" id="about">About</h2>
    <p>This website was created to help everyone understand diabetes better and easier.
        You don't have to come from a science background to learn about the condition as everything here is explained in clear, simple language.
        We've also included a risk assessment tool to help you understand your personal risk for developing type 2 diabetes.
        </p>

</div>

</main>


<script type="py">

def calculate_risk():
    from js import document

    weights = [-2.7712316300109996, 0.3736056292375291, 0.17017502955278827, 0.13284791943046084, 0.2935345127870824, 0.8705724154641168]
    
    user_age = int(document.getElementById("age").value)
    user_hypertension = 1 if document.getElementById("hypertension_yes").checked else 0
    user_heart_disease = 1 if document.getElementById("heartdisease").checked else 0
    user_bmi = int(document.getElementById("bmi").value)
    user_hba1c = int(document.getElementById("hba1c").value)
    user_glucose = int(document.getElementById("bglevels").value)
    
    influences = [0] * 6
    
    influence_statuses = {
        "age_status": "NA",
        "hypertension_status": "NA",
        "heart_disease_status": "NA",
        "bmi_status": "NA",
        "hba1c_status": "NA",
        "glucose_status": "NA",
    }
    
    influence_scores = {
        "age_score": 0,
        "hypertension_score": 0,
        "heart_disease_score": 0,
        "bmi_score": 0,
        "hba1c_score": 0,
        "glucose_score": 0,
    }
    
    status_keys = ["age_status", "hypertension_status", "heart_disease_status", "bmi_status", "hba1c_status", "glucose_status"]
    
    score_keys = ["age_score", "hypertension_score", "heart_disease_score", "bmi_score", "hba1c_score", "glucose_score"]
    
    
    bmi_lower_bound = 18.5
    bmi_upper_bound = 24.9
    
    #1. influence for age 
    delta = (user_age - 30) / 30
    age_influence = delta * weights[0] * 1000 * 0.5
    age_influence = round(age_influence, 2)
    influences[0] = age_influence
    
    #2. influence for hypertension
    if user_hypertension == 1:
        hypertension_influence = weights[1] * 1000 * 0.5
    else: 
        hypertension_influence = 0
    hypertension_influence = round(hypertension_influence, 2)
    influences[1] = hypertension_influence
    
    #3. influence for heart disease
    if user_heart_disease == 1:
        heart_disease_influence = weights[2] * 1000 * 0.5
    elif user_heart_disease == 0: 
        heart_disease_influence = 0
    heart_disease_influence = round(heart_disease_influence, 2)
    influences[2] = heart_disease_influence
    
    #4. influence for bmi
    if user_bmi > bmi_upper_bound:
        alpha = (user_bmi - bmi_upper_bound) / bmi_upper_bound
        bmi_influence = weights[3] * alpha * 1000
    
    elif user_bmi < bmi_lower_bound:
        alpha = (bmi_lower_bound - user_bmi) / bmi_lower_bound
        bmi_influence = weights[3] * alpha * 1000
    
    else: 
        bmi_influence = 0
    bmi_influence = round(bmi_influence, 2)
    influences[3] = bmi_influence
    
    #5. influence for blood glucose levels
    if user_glucose > 126:
        beta = (user_glucose - 100)/ 126
        glucose_influence = weights[5] * beta * 1000
    
    elif user_glucose > 100 and user_glucose <= 126:
        beta = (user_glucose - 100) / 126
        glucose_influence = weights[5] * beta * 0.8 * 1000
    
    elif user_glucose > 70 and user_glucose <= 100:
            glucose_influence = 0
    
    elif user_glucose <= 70:
        beta = (70 - user_glucose) / 70
        glucose_influence = weights[5] * beta * 1000
    glucose_influence = round(glucose_influence, 2)
    influences[5] = glucose_influence
    
    #6. influence for hba1c levels
    if user_hba1c > 6.4:
        charlie = (user_hba1c - 5.7) / 6.4
        hba1c_influence = weights[4] * charlie * 1000
    
    elif user_hba1c >= 5.7 and user_hba1c <= 6.4:
        charlie = (user_hba1c - 5.7) / 6.4
        hba1c_influence = weights[4] * charlie * 0.8 * 1000
    
    elif user_hba1c < 5.7:
        hba1c_influence = 0
    hba1c_influence = round(hba1c_influence, 2)
    influences[4] = hba1c_influence
    
    
    total_influence = age_influence + glucose_influence + bmi_influence + hba1c_influence + heart_disease_influence + hypertension_influence
    age_influence_percentage = age_influence/total_influence * 100
    glucose_influence_percentage = glucose_influence/total_influence * 100
    bmi_influence_percentage = bmi_influence/total_influence * 100
    hba1c_influence_percentage = hba1c_influence/total_influence * 100
    heart_disease_percentage = heart_disease_influence/total_influence * 100
    hypertension_percentage = hypertension_influence/total_influence * 100
    
    for i in range(len(influences)):
        if influences[i] > 45:
            status = "Extreme"
            score = "10/10"
        elif influences[i] > 40:
            status = "Extreme"
            score = "9/10"
        elif influences[i] > 35:
            status = "High"
            score = "8/10"
        elif influences[i] > 30:
            status = "High"
            score = "7/10"
        elif influences[i] > 25: 
            status = "Moderate"
            score = "6/10"
        elif influences[i] > 20: 
            status = "Moderate"
            score = "5/10"
        elif influences[i] > 15:
            status = "Moderate"
            score = "4/10"
        elif influences[i] >= 10:
            status = "Moderate/Low"
            score = "3/10"
        elif influences[i] >= 6 and influences[i] < 10:
            status = "Low"
            score = "2/10"
        elif influences[i] >= 3 and influences[i] < 6:
            status = "Low"
            score = "1/10"
        else:
            status = "No"
            score = "0/10"
        influence_statuses[status_keys[i]] = status
        influence_scores[score_keys[i]] = score

    output = f"""
        <ul>
            <li><b>Age Influence:</b> {age_influence:.2f}</li>
            <li><b>Glucose Influence:</b> {glucose_influence:.2f}</li>
            <li><b>HbA1c Influence:</b> {hba1c_influence:.2f}</li>
            <li><b>BMI Influence:</b> {bmi_influence:.2f}</li>
            <li><b>Hypertension Influence:</b> {hypertension_influence:.2f}</li>
            <li><b>Heart Disease Influence:</b> {heart_disease_influence:.2f}</li>
        </ul>
    """
    document.getElementById("result").innerHTML = output

</script type="py">
    
</body>
</html>
